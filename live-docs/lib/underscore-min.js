(function(){var e=this,t=e._,n=Array.prototype,i=Object.prototype,r=Function.prototype,o=n.push,a=n.slice,s=n.concat,l=i.toString,u=i.hasOwnProperty,c=Array.isArray,p=Object.keys,h=r.bind,d=function(e){return e instanceof d?e:this instanceof d?void(this._wrapped=e):new d(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports._=d):e._=d,d.VERSION="1.7.0";var f=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}};d.iteratee=function(e,t,n){return null==e?d.identity:d.isFunction(e)?f(e,t,n):d.isObject(e)?d.matches(e):d.property(e)},d.each=d.forEach=function(e,t,n){if(null==e)return e;t=f(t,n);var i,r=e.length;if(r===+r)for(i=0;r>i;i++)t(e[i],i,e);else{var o=d.keys(e);for(i=0,r=o.length;r>i;i++)t(e[o[i]],o[i],e)}return e},d.map=d.collect=function(e,t,n){if(null==e)return[];t=d.iteratee(t,n);for(var i,r=e.length!==+e.length&&d.keys(e),o=(r||e).length,a=Array(o),s=0;o>s;s++)i=r?r[s]:s,a[s]=t(e[i],i,e);return a};var m="Reduce of empty array with no initial value";d.reduce=d.foldl=d.inject=function(e,t,n,i){null==e&&(e=[]),t=f(t,i,4);var r,o=e.length!==+e.length&&d.keys(e),a=(o||e).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(m);n=e[o?o[s++]:s++]}for(;a>s;s++)r=o?o[s]:s,n=t(n,e[r],r,e);return n},d.reduceRight=d.foldr=function(e,t,n,i){null==e&&(e=[]),t=f(t,i,4);var r,o=e.length!==+e.length&&d.keys(e),a=(o||e).length;if(arguments.length<3){if(!a)throw new TypeError(m);n=e[o?o[--a]:--a]}for(;a--;)r=o?o[a]:a,n=t(n,e[r],r,e);return n},d.find=d.detect=function(e,t,n){var i;return t=d.iteratee(t,n),d.some(e,function(e,n,r){return t(e,n,r)?(i=e,!0):void 0}),i},d.filter=d.select=function(e,t,n){var i=[];return null==e?i:(t=d.iteratee(t,n),d.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i)},d.reject=function(e,t,n){return d.filter(e,d.negate(d.iteratee(t)),n)},d.every=d.all=function(e,t,n){if(null==e)return!0;t=d.iteratee(t,n);var i,r,o=e.length!==+e.length&&d.keys(e),a=(o||e).length;for(i=0;a>i;i++)if(r=o?o[i]:i,!t(e[r],r,e))return!1;return!0},d.some=d.any=function(e,t,n){if(null==e)return!1;t=d.iteratee(t,n);var i,r,o=e.length!==+e.length&&d.keys(e),a=(o||e).length;for(i=0;a>i;i++)if(r=o?o[i]:i,t(e[r],r,e))return!0;return!1},d.contains=d.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=d.values(e)),d.indexOf(e,t)>=0)},d.invoke=function(e,t){var n=a.call(arguments,2),i=d.isFunction(t);return d.map(e,function(e){return(i?t:e[t]).apply(e,n)})},d.pluck=function(e,t){return d.map(e,d.property(t))},d.where=function(e,t){return d.filter(e,d.matches(t))},d.findWhere=function(e,t){return d.find(e,d.matches(t))},d.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:d.values(e);for(var s=0,l=e.length;l>s;s++)i=e[s],i>o&&(o=i)}else t=d.iteratee(t,n),d.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},d.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:d.values(e);for(var s=0,l=e.length;l>s;s++)i=e[s],o>i&&(o=i)}else t=d.iteratee(t,n),d.each(e,function(e,n,i){r=t(e,n,i),(a>r||1/0===r&&1/0===o)&&(o=e,a=r)});return o},d.shuffle=function(e){for(var t,n=e&&e.length===+e.length?e:d.values(e),i=n.length,r=Array(i),o=0;i>o;o++)t=d.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},d.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=d.values(e)),e[d.random(e.length-1)]):d.shuffle(e).slice(0,Math.max(0,t))},d.sortBy=function(e,t,n){return t=d.iteratee(t,n),d.pluck(d.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var g=function(e){return function(t,n,i){var r={};return n=d.iteratee(n,i),d.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};d.groupBy=g(function(e,t,n){d.has(e,n)?e[n].push(t):e[n]=[t]}),d.indexBy=g(function(e,t,n){e[n]=t}),d.countBy=g(function(e,t,n){d.has(e,n)?e[n]++:e[n]=1}),d.sortedIndex=function(e,t,n,i){n=d.iteratee(n,i,1);for(var r=n(t),o=0,a=e.length;a>o;){var s=o+a>>>1;n(e[s])<r?o=s+1:a=s}return o},d.toArray=function(e){return e?d.isArray(e)?a.call(e):e.length===+e.length?d.map(e,d.identity):d.values(e):[]},d.size=function(e){return null==e?0:e.length===+e.length?e.length:d.keys(e).length},d.partition=function(e,t,n){t=d.iteratee(t,n);var i=[],r=[];return d.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},d.first=d.head=d.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:a.call(e,0,t)},d.initial=function(e,t,n){return a.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},d.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},d.rest=d.tail=d.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},d.compact=function(e){return d.filter(e,d.identity)};var v=function(e,t,n,i){if(t&&d.every(e,d.isArray))return s.apply(i,e);for(var r=0,a=e.length;a>r;r++){var l=e[r];d.isArray(l)||d.isArguments(l)?t?o.apply(i,l):v(l,t,n,i):n||i.push(l)}return i};d.flatten=function(e,t){return v(e,t,!1,[])},d.without=function(e){return d.difference(e,a.call(arguments,1))},d.uniq=d.unique=function(e,t,n,i){if(null==e)return[];d.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=d.iteratee(n,i));for(var r=[],o=[],a=0,s=e.length;s>a;a++){var l=e[a];if(t)a&&o===l||r.push(l),o=l;else if(n){var u=n(l,a,e);d.indexOf(o,u)<0&&(o.push(u),r.push(l))}else d.indexOf(r,l)<0&&r.push(l)}return r},d.union=function(){return d.uniq(v(arguments,!0,!0,[]))},d.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,i=0,r=e.length;r>i;i++){var o=e[i];if(!d.contains(t,o)){for(var a=1;n>a&&d.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},d.difference=function(e){var t=v(a.call(arguments,1),!0,!0,[]);return d.filter(e,function(e){return!d.contains(t,e)})},d.zip=function(e){if(null==e)return[];for(var t=d.max(arguments,"length").length,n=Array(t),i=0;t>i;i++)n[i]=d.pluck(arguments,i);return n},d.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},d.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=d.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}for(;r>i;i++)if(e[i]===t)return i;return-1},d.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=e.length;for("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1));--i>=0;)if(e[i]===t)return i;return-1},d.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;i>o;o++,e+=n)r[o]=e;return r};var y=function(){};d.bind=function(e,t){var n,i;if(h&&e.bind===h)return h.apply(e,a.call(arguments,1));if(!d.isFunction(e))throw new TypeError("Bind must be called on a function");return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));y.prototype=e.prototype;var r=new y;y.prototype=null;var o=e.apply(r,n.concat(a.call(arguments)));return d.isObject(o)?o:r}},d.partial=function(e){var t=a.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,o=i.length;o>r;r++)i[r]===d&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},d.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=d.bind(e[n],e);return e},d.memoize=function(e,t){var n=function(i){var r=n.cache,o=t?t.apply(this,arguments):i;return d.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},d.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},d.defer=function(e){return d.delay.apply(d,[e,1].concat(a.call(arguments,1)))},d.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:d.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var u=d.now();s||n.leading!==!1||(s=u);var c=t-(u-s);return i=this,r=arguments,0>=c||c>t?(clearTimeout(a),a=null,s=u,o=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},d.debounce=function(e,t,n){var i,r,o,a,s,l=function(){var u=d.now()-a;t>u&&u>0?i=setTimeout(l,t-u):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=d.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(s=e.apply(o,r),o=r=null),s}},d.wrap=function(e,t){return d.partial(t,e)},d.negate=function(e){return function(){return!e.apply(this,arguments)}},d.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},d.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},d.before=function(e,t){var n;return function(){return--e>0?n=t.apply(this,arguments):t=null,n}},d.once=d.partial(d.before,2),d.keys=function(e){if(!d.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)d.has(e,n)&&t.push(n);return t},d.values=function(e){for(var t=d.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},d.pairs=function(e){for(var t=d.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},d.invert=function(e){for(var t={},n=d.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},d.functions=d.methods=function(e){var t=[];for(var n in e)d.isFunction(e[n])&&t.push(n);return t.sort()},d.extend=function(e){if(!d.isObject(e))return e;for(var t,n,i=1,r=arguments.length;r>i;i++){t=arguments[i];for(n in t)u.call(t,n)&&(e[n]=t[n])}return e},d.pick=function(e,t,n){var i,r={};if(null==e)return r;if(d.isFunction(t)){t=f(t,n);for(i in e){var o=e[i];t(o,i,e)&&(r[i]=o)}}else{var l=s.apply([],a.call(arguments,1));e=new Object(e);for(var u=0,c=l.length;c>u;u++)i=l[u],i in e&&(r[i]=e[i])}return r},d.omit=function(e,t,n){if(d.isFunction(t))t=d.negate(t);else{var i=d.map(s.apply([],a.call(arguments,1)),String);t=function(e,t){return!d.contains(i,t)}}return d.pick(e,t,n)},d.defaults=function(e){if(!d.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];for(var r in i)void 0===e[r]&&(e[r]=i[r])}return e},d.clone=function(e){return d.isObject(e)?d.isArray(e)?e.slice():d.extend({},e):e},d.tap=function(e,t){return t(e),e};var b=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof d&&(e=e._wrapped),t instanceof d&&(t=t._wrapped);var r=l.call(e);if(r!==l.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]===e)return i[o]===t;var a=e.constructor,s=t.constructor;if(a!==s&&"constructor"in e&&"constructor"in t&&!(d.isFunction(a)&&a instanceof a&&d.isFunction(s)&&s instanceof s))return!1;n.push(e),i.push(t);var u,c;if("[object Array]"===r){if(u=e.length,c=u===t.length)for(;u--&&(c=b(e[u],t[u],n,i)););}else{var p,h=d.keys(e);if(u=h.length,c=d.keys(t).length===u)for(;u--&&(p=h[u],c=d.has(t,p)&&b(e[p],t[p],n,i)););}return n.pop(),i.pop(),c};d.isEqual=function(e,t){return b(e,t,[],[])},d.isEmpty=function(e){if(null==e)return!0;if(d.isArray(e)||d.isString(e)||d.isArguments(e))return 0===e.length;for(var t in e)if(d.has(e,t))return!1;return!0},d.isElement=function(e){return!(!e||1!==e.nodeType)},d.isArray=c||function(e){return"[object Array]"===l.call(e)},d.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},d.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){d["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),d.isArguments(arguments)||(d.isArguments=function(e){return d.has(e,"callee")}),"function"!=typeof/./&&(d.isFunction=function(e){return"function"==typeof e||!1}),d.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},d.isNaN=function(e){return d.isNumber(e)&&e!==+e},d.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},d.isNull=function(e){return null===e},d.isUndefined=function(e){return void 0===e},d.has=function(e,t){return null!=e&&u.call(e,t)},d.noConflict=function(){return e._=t,this},d.identity=function(e){return e},d.constant=function(e){return function(){return e}},d.noop=function(){},d.property=function(e){return function(t){return t[e]}},d.matches=function(e){var t=d.pairs(e),n=t.length;return function(e){if(null==e)return!n;e=new Object(e);for(var i=0;n>i;i++){var r=t[i],o=r[0];if(r[1]!==e[o]||!(o in e))return!1}return!0}},d.times=function(e,t,n){var i=Array(Math.max(0,e));t=f(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},d.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},d.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=d.invert(w),E=function(e){var t=function(t){return e[t]},n="(?:"+d.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};d.escape=E(w),d.unescape=E(x),d.result=function(e,t){if(null==e)return void 0;var n=e[t];return d.isFunction(n)?e[t]():n};var k=0;d.uniqueId=function(e){var t=++k+"";return e?e+t:t},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var S=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},_=/\\|'|\r|\n|\u2028|\u2029/g,C=function(e){return"\\"+T[e]};d.template=function(e,t,n){!t&&n&&(t=n),t=d.defaults({},t,d.templateSettings);var i=RegExp([(t.escape||S).source,(t.interpolate||S).source,(t.evaluate||S).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,s){return o+=e.slice(r,s).replace(_,C),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(e){return a.call(this,e,d)},u=t.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},d.chain=function(e){var t=d(e);return t._chain=!0,t};var A=function(e){return this._chain?d(e).chain():e};d.mixin=function(e){d.each(d.functions(e),function(t){var n=d[t]=e[t];d.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),A.call(this,n.apply(d,e))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];d.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],A.call(this,n)}}),d.each(["concat","join","slice"],function(e){var t=n[e];d.prototype[e]=function(){return A.call(this,t.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return d})}).call(this);