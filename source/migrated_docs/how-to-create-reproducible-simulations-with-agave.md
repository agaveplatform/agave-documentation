Just as important as the ability to run a simulation is the ability to document, understand, and reproduce the results of that simulation for peer review and reference. In this post we describe how to create reproducible simulations with Agave.

First, let's talk about the general process of running a simulation with Agave.

<ol>
<li>Make sure Agave's Apps service knows about the program you want to run. Agave has a couple hundred apps already installed and available to use. The "wc" app (wordcount), and "head" app (show the first N lines of a file) are about as "hello world" as it gets. These are already installed and ready to use today. If you have an app you want to run that Agave does not know about, then you just need to tell Agave a few things about your program, aka "app", so Agave knows how to run it. The process of telling Agave how to run your app is called, for lack of a more creative term, registration.</li>
<li>Tell Agave to run your job. Doing this by hand is a pretty big PITA. Doing this with Agave is super easy. Agave, like most web APIs these days (Google, Dropbox, Yahoo, Netflix, etc), uses JSON as the data format of choice when communicating. Telling it to start your job is just a matter of send a HTTP POST with the JSON describing the job you want to run to the Jobs service. With Netflix, you need to tell them what movie you want to watch and in what format you want to watch it (HD, subtitled, translated, etc) before they start streaming it to you. The JSON you POST to Agave's Jobs service should contain about the app you want to run such as what input files you need, what parameters should be used, whether you want Agave to back up your data for you after the job finished, how/if you want to be notified when the job completes or fails, etc. One thing you don't need to do is tell Agave is where to run the job. That was specified when the app was registered.</li>
<li>(OPTIONAL) Most people get antsy and still want to poll the Jobs service to see if their job is done. This really isn't necessary, but can be useful in certain situations. For example, compute clusters are usually shared by hundreds of user who take turns using part of all of the systems. As a result, cluster owners use a batch scheduling systems (aka scheduler) to ensure everyone gets their turn. Schedulers will prevent jobs from starting until it's there turn. As a result, just because Agave submits a job to a compute cluster, there is no guarantee that it will start right away. If you don't know that your job is waiting on the scheduler to run, you might get anxious that what should be a very quick job is taking so long to complete. Querying the Jobs service for the status of your job or the job history will give you this information.</li>
<li>(OPTIONAL) After your job completes, you can browse the output directly from the Jobs service or, if you told Agave to backup (aka archive) your job results, the Files service. [pro tip: all of Agave's developer APIs are hypermedia APIs. That means that every response from the API includes URLs allowing you to navigate to related resources in the API. For instance, querying the Jobs service for the status of a job will return a JSON description of the job and its status along with links to the job's permissions, output, execution system, app description, owner's user profile, etc. Using this info, you can learn how to navigate to the things you want much easier.]</li>
<li>(OPTIONAL) Sometimes you will want to share your job or its output with other people. You can do this using the job permissions, or you can just create a PostIt to the file in question. A PostIt is like a bit.ly link to your data that doesn't require authentication. By creating a PostIt, you have a link you can email, im, or include on a web page that anyone can use to download the file as many or as few times as you wish for as long or short a time period as you like. You can read more about PostIts in the PostIt tutorial on the website.</li>
</ol>